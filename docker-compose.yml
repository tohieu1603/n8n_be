version: '3.8'

services:
  api:
    build: .
    ports:
      - "4000:4000"
    environment:
      - DEBUG=false
      - DB_HOST=${DB_HOST:-localhost}
      - DB_PORT=${DB_PORT:-5432}
      - DB_DATABASE=${DB_DATABASE:-imagegen}
      - DB_USERNAME=${DB_USERNAME:-imagegen}
      - DB_PASSWORD=${DB_PASSWORD:-imagegen123}
      - DJANGO_SECRET_KEY=${DJANGO_SECRET_KEY:-your-secret-key}
      - JWT_SECRET=${JWT_SECRET:-your-jwt-secret}
      - API_KEY_PEPPER=${API_KEY_PEPPER:-your-api-key-pepper}
      - API_KEY_ENCRYPTION_KEY=${API_KEY_ENCRYPTION_KEY:-your-encryption-key-32bytes}
      - REPLICATE_API_TOKEN=${REPLICATE_API_TOKEN}
      - OPENROUTER_API_KEY=${OPENROUTER_API_KEY}
      - SEPAY_API_KEY=${SEPAY_API_KEY}
      - DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY}
      - CORS_ORIGINS=${CORS_ORIGINS:-http://localhost:3000,http://localhost:3001}
    restart: unless-stopped
